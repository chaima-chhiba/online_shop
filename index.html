<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Revival | Vintage Clothing</title>
     <link rel="stylesheet" href="css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <header class="top">
        <div class="top-left">
            <img src="resource/Logo.png" alt="Retro Revival Logo" class="logo">
        </div>
        <div class="top-middle">
            <div class="shopname">Retro Revival</div>
            <div class="tagline">Timeless Fashion, Endless Style</div>
            <div class="search-container">
                <input id="search_bar" type="search" class="search-input" placeholder="Search vintage treasures...">
            </div>
        </div>
        <div class="top-right">
            <a href="php/track-order.php" class="icon-button" title="Track Your Order">
                <img src="resource/truck.png" alt="Track Order" class="icon">
            </a>
          
            <a href="html/cartView.html" class="icon-button" title="Shopping Cart">
                <img src="resource/cart.png" alt="Cart" class="icon">
            </a>
            <a href="php/profile-gateway.php" class="icon-button" title="My Account">
                <img src="resource/profile.png" alt="Profile" class="icon">
            </a>
        </div>
    </header>

    <nav>
        <a href="#">Home</a>
        <a href="#">Accessories</a>
        <a href="#">Our Story</a>
    </nav>

    <div id="search_results"></div>

    <main class="full">
        <section class="left-section">
            <h3 class="category-title">Shop by Era</h3>
            <button class="btn-category">1950s - Rockabilly & Pin-up</button>
            <button class="btn-category">1960s - Mod & Hippie</button>
            <button class="btn-category">1970s - Disco & Bohemian</button>
            <button class="btn-category">1980s - New Wave & Punk</button>
            <button class="btn-category">1990s - Grunge & Minimalist</button>
            <button class="btn-category">Y2K - 2000s Nostalgia</button>

            <h3 class="category-title" style="margin-top: 30px;">Shop by Category</h3>
            <button class="btn-category">Dresses</button>
            <button class="btn-category">Tops & Blouses</button>
            <button class="btn-category">Bottoms</button>
            <button class="btn-category">Outerwear</button>
            <button class="btn-category">Accessories</button>
            <button class="btn-category">View All</button>
            
            <div style="margin-top: 30px;">
                <h3 class="category-title">Announcements</h3>
                <div id="notice-container" class="notice-container">
                    <!-- Notices will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <section class="content-section">
            <!-- Embed the product loader dynamically using iframe, matching original structure -->
            <iframe id="productLoader" src="html/loadProduct.html" width="100%" height="1500px"
                style="border: none; overflow: hidden;"></iframe>
                
            <div class="newsletter-section">
                <h3 class="newsletter-title">Join Our Vintage Community</h3>
                <p>Subscribe for exclusive offers, first dibs on new arrivals, and styling tips.</p>
                <div class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Enter your email address">
                    <button class="newsletter-btn">Subscribe</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3 class="footer-title">Retro Revival</h3>
                <p>Curating authentic vintage clothing from the 1950s to the 2000s. Each piece tells a story and brings history to your wardrobe.</p>
                <div class="social-links">
                    <a href="#" class="social-icon"><img src="/resource/instagram.png" alt="Instagram"></a>
                    <a href="#" class="social-icon"><img src="/resource/social.png" alt="Pinterest"></a>
                    <a href="#" class="social-icon"><img src="/resource/tik-tok.png" alt="TikTok"></a>
                    <a href="#" class="social-icon"><img src="/resource/facebook.png" alt="Facebook"></a>
                </div>
            </div>
            <div class="footer-section">
                <h3 class="footer-title">Shop</h3>
                <div class="footer-links">
                    <a href="#">New Arrivals</a>
                    <a href="#">Best Sellers</a>
                    <a href="#">Women's Collection</a>
                    <a href="#">Accessories</a>
                    <a href="#">Sale Items</a>
                </div>
            </div>
            <div class="footer-section">
                <h3 class="footer-title">Customer Care</h3>
                <div class="footer-links">
                    <a href="#">Contact Us</a>
                    <a href="#">Shipping & Returns</a>
                    <a href="#">Size Guide</a>
                    <a href="#">Care Instructions</a>
                    <a href="#">FAQs</a>
                </div>
            </div>
            <div class="footer-section">
                <h3 class="footer-title">About Us</h3>
                <div class="footer-links">
                    <a href="#">Our Story</a>
                    <a href="#">Sustainability</a>
                    <a href="#">Vintage Guide</a>
                    <a href="#">Blog</a>
                    <a href="#">Careers</a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Retro Revival Vintage Clothing. All rights reserved.</p>
        </div>
    </footer>

    <div id="toast-container"></div>

    <script>
        // Fetch notices from the server
        function fetchNotices() {
            const container = document.getElementById('notice-container');
            container.innerHTML = '<p>Loading announcements...</p>'; // Show loading text

            // Simulate fetch with sample notices for now
            setTimeout(() => {
                container.innerHTML = ''; // Clear the loading text
                
                // Sample notices
                const notices = [
                    {notice_content: "Free shipping on orders over $100!"},
                    {notice_content: "20% off 1970s collection this week only!"},
                    {notice_content: "New Y2K items just added to the store."}
                ];
                
                notices.forEach(notice => {
                    const noticeDiv = document.createElement('div');
                    noticeDiv.className = 'notice-item';
                    noticeDiv.innerHTML = `<p>${notice.notice_content}</p>`;
                    container.appendChild(noticeDiv);
                });
            }, 500);
        }

        // Function to show toast notification
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.getElementById('toast-container').appendChild(toast);
            
            // Remove toast after animation completes
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Load all products functionality
        function loadAllProducts() {
            const iframe = document.getElementById('productLoader');
            iframe.contentWindow.location.reload();
        }

        // Search functionality
        const searchBar = document.getElementById('search_bar');
        searchBar.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                const query = searchBar.value.trim();
                if (!query) {
                    showToast("Please enter a search term");
                    return;
                }
                showToast(`Searching for: ${query}`);
                // In a real implementation, you would handle the search here
            }
        });

        // Load notices on page load
        document.addEventListener('DOMContentLoaded', fetchNotices);

        // Category button functionality - the View All button has its own onclick handler
        document.querySelectorAll('.btn-category:not([onclick])').forEach(button => {
            button.addEventListener('click', function() {
                showToast(`Browsing: ${this.textContent}`);
                // In a real implementation, you would handle the category filtering here
            });
        });
    </script>
</body>

</html>